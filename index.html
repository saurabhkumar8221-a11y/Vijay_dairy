<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>SIM Management Dashboard</title>
<style>
body {margin:0;font-family:Arial;background:#f4f6f9;}
.sidebar{
  width:230px;height:100vh;background:#111;
  position:fixed;color:white;padding-top:20px;
}
.sidebar button{
  display:block;width:100%;padding:15px;
  border:none;background:none;color:white;
  text-align:left;cursor:pointer;font-size:14px;
}
.sidebar button:hover{background:#333;}
.content{margin-left:230px;padding:25px;}
.tab{display:none;background:white;padding:20px;border-radius:8px;}
input,select{padding:8px;width:300px;margin-bottom:10px;}
button.submit{background:#007bff;color:white;padding:10px 20px;border:none;}
h2{margin-top:0;}
</style>
</head>

<body>

<div class="sidebar">
<button onclick="showTab('user')">User Registration</button>
<button onclick="showTab('stock')">Distributor Stock</button>
<button onclick="showTab('transfer')">SIM Transfer</button>
<button onclick="showTab('activation')">MNP / PORT Service</button>
<button onclick="showTab('map')">Area Map</button>
<button onclick="showTab('report')">Reports</button>
</div>

<div class="content">

<div id="user" class="tab">
<h2>User Registration</h2>
<select id="userType"><option>Agent</option><option>Retailer</option></select><br>
<input id="lapu" placeholder="LAPU"><br>
<input id="contact" placeholder="Contact"><br>
<input id="shopName" placeholder="Shop Name"><br>
<input id="owner" placeholder="Owner"><br>
<select id="zone"><option>Patory</option><option>Sarairanjan</option></select><br>
<button class="submit" onclick="registerUser()">Submit</button>
</div>

<div id="stock" class="tab">
<h2>Distributor Stock</h2>
<input id="stockQty" placeholder="Stock Add"><br>
<button class="submit" onclick="addStock()">Submit</button>
</div>

<div id="transfer" class="tab">
<h2>SIM Transfer</h2>
<input id="lapuT" placeholder="LAPU"><br>
<input id="agentCodeT" placeholder="Agent Code"><br>
<input id="qty" placeholder="Quantity"><br>
<button class="submit" onclick="transferSIM()">Submit</button>
</div>

<div id="activation" class="tab">
<h2>MNP / PORT Service</h2>
<input id="agentCodeA" placeholder="Agent Code"><br>
<input id="mobile" placeholder="Customer Mobile"><br>
<select id="operator">
<option>JIO</option><option>VI</option><option>BSNL</option>
</select><br>
<select id="requestType">
<option>Recharge</option>
<option>FRC</option>
<option>New Activation</option>
<option>Replacement</option>
</select><br>
<input id="amount" placeholder="Amount"><br>
<button class="submit" onclick="activation()">Submit</button>
</div>

<div id="map" class="tab"><h2>Area Map</h2><p>Coming Soon</p></div>
<div id="report" class="tab"><h2>Reports</h2><p>Coming Soon</p></div>

</div>

<script>
const API_URL="https://script.google.com/macros/s/AKfycbzl0ouM0W3I14HO361ybu0Y5SSZXrOWnk6zzAfLZbUCKLxQ94TV_vdlcQNqmU3eTphTKQ/exec";

function showTab(id){
  document.querySelectorAll(".tab").forEach(t=>t.style.display="none");
  document.getElementById(id).style.display="block";
}

function postData(data){
  return fetch(API_URL,{
    method:"POST",
    body:JSON.stringify(data)
  }).then(res=>res.text());
}

function registerUser(){
  postData({
    action:"registerUser",
    userType:userType.value,
    lapu:lapu.value,
    contact:contact.value,
    shopName:shopName.value,
    owner:owner.value,
    lat:"",
    lng:"",
    address:"",
    area:"",
    zone:zone.value
  }).then(alert);
}

function addStock(){
  postData({
    action:"addStock",
    stock:stockQty.value
  }).then(alert);
}

function transferSIM(){
  postData({
    action:"transferSIM",
    lapu:lapuT.value,
    agentCode:agentCodeT.value,
    qty:qty.value
  }).then(alert);
}

function activation(){
  postData({
    action:"activation",
    agentCode:agentCodeA.value,
    mobile:mobile.value,
    operator:operator.value,
    requestType:requestType.value,
    amount:amount.value
  }).then(alert);
}
</script>

</body>
</html>
