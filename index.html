<script>

const scriptURL = "https://script.google.com/macros/s/AKfycbwm3M-wEaMvi3mPkrkXqIhOBzWONDySVEJV_-1AqhcwURqTnlO2KSTCcB8TRLiOzjfL/exec";

let userLatitude = "";
let userLongitude = "";

function getLocation(){
  navigator.geolocation.getCurrentPosition(function(position){
      userLatitude = position.coords.latitude;
      userLongitude = position.coords.longitude;
      alert("Location Fetched ✅");
  }, function(){
      alert("Location Allow karo ⚠️");
  });
}

document.getElementById("myForm").addEventListener("submit", function(e){
  e.preventDefault();

  let formData = new FormData();
  formData.append("userType", document.getElementById("userType").value);
  formData.append("lapu", document.getElementById("lapu").value);
  formData.append("contact", document.getElementById("contact").value);
  formData.append("shopName", document.getElementById("shopName").value);
  formData.append("owner", document.getElementById("owner").value);
  formData.append("latitude", userLatitude);
  formData.append("longitude", userLongitude);
  formData.append("address", document.getElementById("address").value);
  formData.append("area", document.getElementById("area").value);
  formData.append("zone", document.getElementById("zone").value);

  fetch(scriptURL, {
    method: "POST",
    body: formData
  })
  .then(() => {
      document.getElementById("msg").innerHTML = "Entry Saved Successfully ✅";
      document.getElementById("myForm").reset();
      userLatitude = "";
      userLongitude = "";
  })
  .catch(() => {
      document.getElementById("msg").innerHTML = "Error Saving Data ❌";
  });

});

</script>
